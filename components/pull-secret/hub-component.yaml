---
version: 1
kind: component
meta:
  name: pull-secret
  brief: Private docker registry pull image
  source:
    dir: ../../components/pull-secret

requires:
  - kubernetes
provides:
  - pull-secret

parameters:
- name: dns.domain
  env: DOMAIN_NAME
- name: component.pullSecret
  parameters:
  - name: name
    env: COMPONENT_NAME
  - name: namespace
    env: NAMESPACE
- name: component.docker.registry
  parameters:
  - name: kind
    value: harbor
  - name: server
    value: docker.io
    env: DOCKER_SERVER
  - name: username
    empty: allow
    env: DOCKER_USERNAME
  - name: password
    empty: allow
    env: DOCKER_PASSWORD
  - name: email
    empty: allow
    env: DOCKER_EMAIL

outputs:
- name: component.pullSecret.name
  value: ${component.pullSecret.name}
- name: component.pullSecret.namespace
  value: ${component.pullSecret.namespace}
