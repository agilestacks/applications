@import '../../../variables.scss';

$light-color: rgba(255, 255, 255, 0.753);


@mixin flash($color-name, $color, $lights) {
    .asi-teaser-keyword-flash.asi-teaser-keyword-#{$color-name} {
        text-shadow: 0 0 2.7em lighten($color, $lights * 1.5), 0 0 2.5em $light-color, 0 0 .3em lighten($color, $lights), 0 0 7em rgba(darken($background-light, 20), .1);
        color: white;
    }
}

@mixin emission($color-name, $color, $radius, $ember: 0) {
    .asi-teaser-keyword-#{$color-name} {
        text-shadow: 0 0 $radius / 5 lighten($color, $ember), 0 0 $radius lighten($color, 20), 0 0 $radius * 7 rgba(darken($background-light, 10), .15);
        color: rgba(white, .93);
    }

    .asi-teaser-keyword-#{$color-name}::after {
        background: lighten($color, 5);
    }
}

$light-emission-radius: .47em;
$light-flash-lights: 30;
$light-emission-ember: 7;

@include theme(light) {
        @include emission(orange, $orange, $light-emission-radius, $light-emission-ember);
        @include emission(red, $red, $light-emission-radius, $light-emission-ember);
        @include emission(blue, $blue, $light-emission-radius, $light-emission-ember);
        @include emission(green, $green, $light-emission-radius, $light-emission-ember);

        @include flash(orange, $orange, $light-flash-lights);
        @include flash(red, $red, $light-flash-lights);
        @include flash(blue, $blue, $light-flash-lights);
        @include flash(green, $green, $light-flash-lights);
}

$dark-emission-radius: .55em;
$dark-flash-lights: 20;
@include theme(dark) {
        @include emission(orange, $orange, $dark-emission-radius);
        @include emission(red, $red, $dark-emission-radius);
        @include emission(blue, $blue, $dark-emission-radius);
        @include emission(green, $green, $dark-emission-radius);

        @include flash(orange, $orange, $dark-flash-lights);
        @include flash(red, $red, $dark-flash-lights);
        @include flash(blue, $blue, $dark-flash-lights);
        @include flash(green, $green, $dark-flash-lights);
        .asi-teaser-keyword,
        .asi-teaser-keyword-flash {
            color: white;
        }
}


@keyframes loading-spinner {
    0% {
        width: 10%;
        left: 0;
    }

    50% {
        width: 50%;
        left: 25%;
    }

    100% {
        width: 0;
        left: 90%;
    }
}

@keyframes loading-color {
    0% {
        opacity: 0.4;
    }

    50% {
        opacity: 0.55;
    }

    100% {
        opacity: 0.4;
    }
}


.asi-teaser-keyword {
    transition: text-shadow .35s, transform .7s, color .35s;

    &-flash {
        transition: text-shadow .1s, transform .1s, color .1s;
        transform: scale(1.1);

    }

    &:after {
        text-shadow: none;
        opacity: 0;
        transition: opacity .7s;
        content: '';
        top: 100%;
        height: .03em;
        position: absolute;
        transform: none;
    }

    &-loading {
        animation: loading-color 1.35s .5s infinite;
        transition: opacity .2s;
    }

    &-loading::after {
        animation: loading-spinner 1s linear infinite;
        transition: opacity 2s .3s;
        opacity: 1;
    }
}



