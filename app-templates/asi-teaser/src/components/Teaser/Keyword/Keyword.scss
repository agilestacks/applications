@import '../../../variables.scss';

$light-color: rgba(255, 255, 255, 0.753);


@mixin flash($color-name, $color) {
    &.asi-teaser-keyword-#{$color-name} {
        text-shadow: 0 0 3.5em  $light-color, 0 0 2em $light-color, 0 0 1em lighten($color, 20), 0 0 .1em lighten($color, 10);
    }
}

@mixin emission($color-name, $color, $radius) {
    .asi-teaser-keyword-#{$color-name} {
        text-shadow: 0 0 $radius / 4 lighten($color, 10), 0 0 $radius / 2 lighten($color, 15), 0 0 $radius lighten($color, 40), 0 0 $radius * 1.7 rgba(56, 78, 114, 0.555);
        color: lighten($color, 60);
    }

    .asi-teaser-keyword-#{$color-name}::after {
        background: lighten($color, 5);
    }
}

$light-emission-radius: .45em;
@include theme(light) {
        @include emission(orange, $orange, $light-emission-radius);
        @include emission(red, $red, $light-emission-radius);
        @include emission(blue, $blue, $light-emission-radius);
        @include emission(green, $green, $light-emission-radius);
}

$dark-emission-radius: .35em;
@include theme(dark) {
        @include emission(orange, $orange, $dark-emission-radius);
        @include emission(red, $red, $dark-emission-radius);
        @include emission(blue, $blue, $dark-emission-radius);
        @include emission(green, $green, $dark-emission-radius);
}

@keyframes loading-spinner {
    0% {
        width: 10%;
        left: 0;
    }

    50% {
        width: 50%;
        left: 25%;
    }

    100% {
        width: 0;
        left: 90%;
    }
}

@keyframes loading-color {
    0% {
        opacity: 0.4;
    }

    50% {
        opacity: 0.55;
    }

    100% {
        opacity: 0.4;
    }
}


.asi-teaser-keyword {
    transition: text-shadow .7s, transform .7s, color .7s;
    color: white;

    &-flash {
        transition: text-shadow .1s, transform .1s, color .1s;
        transform: scale(1.1);

        @include flash(orange, $orange);
        @include flash(red, $red);
        @include flash(blue, $blue);
        @include flash(green, $green);
    }

    &:after {
        text-shadow: none;
        opacity: 0;
        transition: opacity .7s;
        content: '';
        top: 100%;
        height: .03em;
        position: absolute;
        transform: none;
    }

    &-loading {
        animation: loading-color 1.35s .5s infinite;
        transition: opacity .2s;
    }

    &-loading::after {
        animation: loading-spinner 1s linear infinite;
        transition: opacity 2s .3s;
        opacity: 1;
    }
}



