---
components:
- name: ecr
  source:
    repoUrl: https://github.com/agilestacks/components.git
    repoPath: components
    dir: components/ecr
    branch: master
    fromEnv: GITHUB_TOKEN

lifecycle:
  order:
    - ecr
  mandatory:
    - ecr

parameters:
- name: dns.domain
  env: DOMAIN_NAME
- name: cloud.region
- name: terraform.bucket
  parameters:
  - name: name
  - name: region
- name: component.ecr
  parameters:
  - name: name
    value: myspringbootapp.${dns.domain}

outputs:
- name: component.ecr.image
  value: ${component.ecr.image}
  